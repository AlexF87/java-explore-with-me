CREATE TABLE IF NOT EXISTS apps
(
    id_app BIGINT GENERATED BY DEFAULT AS IDENTITY ,
    app VARCHAR(220) NOT NULL,
    CONSTRAINT pk_app PRIMARY KEY (id_app),
    CONSTRAINT UQ_app UNIQUE (app)
);
CREATE TABLE IF NOT EXISTS stats
(
    id_stats BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    id_app BIGINT ,
    uri VARCHAR(220) NOT NULL,
    ip  VARCHAR(50) NOT NULL,
    timestamp TIMESTAMP WITHOUT TIME ZONE NOT NULL,
    CONSTRAINT pk_stats PRIMARY KEY (id_stats),
    CONSTRAINT fk_app FOREIGN KEY (id_app) REFERENCES apps (id_app)
);